[profile.default]
# Mark tests that take longer than 10s as slow.
# Terminate after 120s as a stop-gap measure to terminate on deadlock.
slow-timeout =  { period = "10s", terminate-after = 12 }

[profile.ci]
inherits = "default"
test-threads = 20
status-level = "skip"
final-status-level = "slow"
failure-output = "immediate-final"
fail-fast = false

[profile.ci-linux]
inherits = "ci"

[profile.ci-macos]
inherits = "ci"
test-threads = 12

[profile.ci-windows]
inherits = "ci"

[test-groups]
serial = { max-threads = 1 }

[[profile.default.overrides]]
filter = 'test(native_auth)'
test-group = 'serial'

[[profile.default.overrides]]
filter = 'package(uv-keyring)'
test-group = 'serial'
